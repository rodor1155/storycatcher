<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Registration Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@300;400;600;700&family=Kalam:wght@300;400;700&family=Schoolbell&family=Caveat:wght@400;700&family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Merriweather:wght@300;400;700&family=Lora:wght@400;700&family=Cinzel:wght@400;600&family=Roboto:wght@300;400;700&family=Open+Sans:wght@300;400;700&family=Raleway:wght@300;400;700&family=Montserrat:wght@300;400;700&family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <style>
        body { font-family: 'Nunito', sans-serif; padding: 20px; }
        
        /* Font classes for Quill editor content */
        .ql-editor .ql-font-serif { font-family: serif !important; }
        .ql-editor .ql-font-monospace { font-family: monospace !important; }
        .ql-editor .ql-font-arial { font-family: Arial, sans-serif !important; }
        .ql-editor .ql-font-helvetica { font-family: Helvetica, Arial, sans-serif !important; }
        .ql-editor .ql-font-georgia { font-family: Georgia, serif !important; }
        .ql-editor .ql-font-times-new-roman { font-family: "Times New Roman", Times, serif !important; }
        .ql-editor .ql-font-courier-new { font-family: "Courier New", Courier, monospace !important; }
        .ql-editor .ql-font-verdana { font-family: Verdana, Arial, sans-serif !important; }
        .ql-editor .ql-font-trebuchet-ms { font-family: "Trebuchet MS", Arial, sans-serif !important; }
        .ql-editor .ql-font-comic-sans-ms { font-family: "Comic Sans MS", cursive !important; }
        .ql-editor .ql-font-impact { font-family: Impact, Arial, sans-serif !important; }
        .ql-editor .ql-font-lucida-sans { font-family: "Lucida Sans", Arial, sans-serif !important; }
        .ql-editor .ql-font-tahoma { font-family: Tahoma, Arial, sans-serif !important; }
        .ql-editor .ql-font-fredoka-one { font-family: "Fredoka One", cursive !important; }
        .ql-editor .ql-font-nunito { font-family: "Nunito", sans-serif !important; }
        .ql-editor .ql-font-kalam { font-family: "Kalam", cursive !important; }
        .ql-editor .ql-font-cinzel { font-family: "Cinzel", serif !important; }
        .ql-editor .ql-font-schoolbell { font-family: "Schoolbell", cursive !important; }
        .ql-editor .ql-font-caveat { font-family: "Caveat", cursive !important; }
        .ql-editor .ql-font-dancing-script { font-family: "Dancing Script", cursive !important; }
        .ql-editor .ql-font-playfair-display { font-family: "Playfair Display", serif !important; }
        .ql-editor .ql-font-merriweather { font-family: "Merriweather", serif !important; }
        .ql-editor .ql-font-lora { font-family: "Lora", serif !important; }
        .ql-editor .ql-font-open-sans { font-family: "Open Sans", sans-serif !important; }
        .ql-editor .ql-font-roboto { font-family: "Roboto", sans-serif !important; }
        .ql-editor .ql-font-montserrat { font-family: "Montserrat", sans-serif !important; }
        .ql-editor .ql-font-poppins { font-family: "Poppins", sans-serif !important; }
        .ql-editor .ql-font-raleway { font-family: "Raleway", sans-serif !important; }
        .ql-editor .ql-font-source-sans-pro { font-family: "Source Sans Pro", sans-serif !important; }
        
        /* Dropdown display names using CSS content */
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before { content: 'Serif'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before { content: 'Monospace'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=arial]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=arial]::before { content: 'Arial'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=helvetica]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=helvetica]::before { content: 'Helvetica'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=georgia]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=georgia]::before { content: 'Georgia'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=times-new-roman]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=times-new-roman]::before { content: 'Times New Roman'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=courier-new]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=courier-new]::before { content: 'Courier New'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=verdana]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=verdana]::before { content: 'Verdana'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=trebuchet-ms]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=trebuchet-ms]::before { content: 'Trebuchet MS'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=comic-sans-ms]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=comic-sans-ms]::before { content: 'Comic Sans MS'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=impact]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=impact]::before { content: 'Impact'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=lucida-sans]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=lucida-sans]::before { content: 'Lucida Sans'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=tahoma]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=tahoma]::before { content: 'Tahoma'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=fredoka-one]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=fredoka-one]::before { content: 'Fredoka One'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=nunito]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=nunito]::before { content: 'Nunito'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=kalam]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=kalam]::before { content: 'Kalam'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=cinzel]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=cinzel]::before { content: 'Cinzel'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=schoolbell]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=schoolbell]::before { content: 'Schoolbell'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=caveat]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=caveat]::before { content: 'Caveat'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=dancing-script]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=dancing-script]::before { content: 'Dancing Script'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=playfair-display]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=playfair-display]::before { content: 'Playfair Display'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=merriweather]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=merriweather]::before { content: 'Merriweather'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=lora]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=lora]::before { content: 'Lora'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=open-sans]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=open-sans]::before { content: 'Open Sans'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=roboto]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=roboto]::before { content: 'Roboto'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=montserrat]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=montserrat]::before { content: 'Montserrat'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=poppins]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=poppins]::before { content: 'Poppins'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=raleway]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=raleway]::before { content: 'Raleway'; }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=source-sans-pro]::before, 
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=source-sans-pro]::before { content: 'Source Sans Pro'; }
        
        #test-editor {
            height: 300px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Font Registration Test</h1>
    <p>This page tests the new font registration approach for Quill.js</p>
    
    <div id="test-editor"></div>
    
    <script>
        // Register custom fonts with Quill before creating the editor
        const Font = Quill.import('formats/font');
        
        // Define all our custom fonts
        const customFonts = [
            'serif', 'monospace', 'arial', 'helvetica', 'georgia', 'times-new-roman', 
            'courier-new', 'verdana', 'trebuchet-ms', 'comic-sans-ms', 'impact', 
            'lucida-sans', 'tahoma', 'fredoka-one', 'nunito', 'kalam', 'cinzel', 
            'schoolbell', 'caveat', 'dancing-script', 'playfair-display', 'merriweather', 
            'lora', 'open-sans', 'roboto', 'montserrat', 'poppins', 'raleway', 'source-sans-pro'
        ];
        
        // Add custom fonts to Quill's whitelist
        Font.whitelist = [...Font.whitelist, ...customFonts];
        
        // Register the updated Font with Quill
        Quill.register(Font, true);
        
        console.log('✅ Registered custom fonts with Quill');
        
        // Create the editor
        const quill = new Quill('#test-editor', {
            theme: 'snow',
            modules: {
                toolbar: [
                    [{ 'font': customFonts }],
                    [{ 'size': ['small', false, 'large', 'huge'] }],  
                    [{ 'header': [1, 2, 3, false] }],
                    ['bold', 'italic', 'underline', 'strike'],
                    [{ 'color': [] }, { 'background': [] }],
                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                    [{ 'align': [] }],
                    ['clean']
                ]
            },
            placeholder: 'Type here and test font selection...'
        });
        
        // Add some test content
        quill.setContents([
            { insert: 'Test different fonts by selecting this text and choosing fonts from the dropdown!\n\n' },
            { insert: 'Arial Test', attributes: { font: 'arial' } },
            { insert: '\n' },
            { insert: 'Comic Sans Test', attributes: { font: 'comic-sans-ms' } },
            { insert: '\n' },
            { insert: 'Dancing Script Test', attributes: { font: 'dancing-script' } },
            { insert: '\n' }
        ]);
        
        console.log('✅ Test editor created with sample content');
        
        // Monitor font changes
        quill.on('text-change', function() {
            setTimeout(() => {
                const fontElements = quill.root.querySelectorAll('[class*="ql-font"]');
                console.log(`📝 Found ${fontElements.length} elements with font classes:`);
                fontElements.forEach((el, i) => {
                    console.log(`  ${i+1}: ${el.className} -> "${window.getComputedStyle(el).fontFamily}"`);
                });
            }, 100);
        });
    </script>
</body>
</html>