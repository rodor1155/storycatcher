<!DOCTYPE html>
<html>
<head>
    <title>Font Test v2</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <style>
        body { padding: 20px; font-family: Arial, sans-serif; }
        .editor { margin: 20px 0; }
        
        /* Quill font styles */
        .ql-snow .ql-picker.ql-font .ql-picker-label::before,
        .ql-snow .ql-picker.ql-font .ql-picker-item::before {
            content: 'Sans Serif';
        }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=arial]::before,
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=arial]::before {
            content: 'Arial';
            font-family: Arial, sans-serif;
        }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=comic-sans]::before,
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=comic-sans]::before {
            content: 'Comic Sans';
            font-family: "Comic Sans MS", cursive;
        }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=georgia]::before,
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=georgia]::before {
            content: 'Georgia';
            font-family: Georgia, serif;
        }
        .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=helvetica]::before,
        .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=helvetica]::before {
            content: 'Helvetica';
            font-family: Helvetica, sans-serif;
        }
        
        /* Font classes for content */
        .ql-font-serif { font-family: Georgia, serif !important; }
        .ql-font-monospace { font-family: "Courier New", monospace !important; }
        .ql-font-arial { font-family: Arial, sans-serif !important; }
        .ql-font-helvetica { font-family: Helvetica, sans-serif !important; }
        .ql-font-georgia { font-family: Georgia, serif !important; }
        .ql-font-times-new-roman { font-family: "Times New Roman", serif !important; }
        .ql-font-courier-new { font-family: "Courier New", monospace !important; }
        .ql-font-verdana { font-family: Verdana, sans-serif !important; }
    </style>
</head>
<body>
    <h1>üß™ Font Test v2 - Different Approach</h1>
    <p>Testing Quill fonts with proper CSS setup:</p>
    
    <div id="test-editor" style="height: 300px; border: 1px solid #ccc;"></div>
    
    <div style="margin-top: 20px;">
        <h3>Debug Info:</h3>
        <div id="debug-info"></div>
    </div>
    
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script>
        console.log('üé® Font Test v2 Starting...');
        
        // WORKING METHOD: Use Quill's built-in font system
        const quill = new Quill('#test-editor', {
            theme: 'snow',
            modules: {
                toolbar: [
                    [{ 'font': ['serif', 'monospace', 'arial', 'helvetica', 'georgia', 'times-new-roman', 'courier-new', 'verdana', 'trebuchet-ms', 'comic-sans-ms', 'impact', 'lucida-sans', 'tahoma', 'fredoka-one', 'nunito', 'kalam', 'cinzel', 'schoolbell', 'caveat', 'dancing-script', 'playfair-display', 'merriweather', 'lora', 'open-sans', 'roboto', 'montserrat', 'poppins', 'raleway', 'source-sans-pro'] }],
                    ['bold', 'italic'],
                    [{ 'size': ['small', false, 'large'] }]
                ]
            }
        });
        
        // Add test content
        quill.setText('Select this text and try changing fonts!');
        
        // Debug what we got
        setTimeout(() => {
            const debugDiv = document.getElementById('debug-info');
            const fontPicker = document.querySelector('.ql-font');
            
            let debugHTML = '';
            
            if (fontPicker) {
                const options = fontPicker.querySelectorAll('.ql-picker-item');
                debugHTML += `<p><strong>‚úÖ Font picker found!</strong></p>`;
                debugHTML += `<p>Font options count: <strong>${options.length}</strong></p>`;
                
                options.forEach((opt, i) => {
                    const value = opt.getAttribute('data-value') || 'default';
                    const text = opt.textContent || opt.innerText || 'no text';
                    debugHTML += `<p>Font ${i}: "${value}" ‚Üí "${text}"</p>`;
                });
                
                // Test if clicking works
                const label = fontPicker.querySelector('.ql-picker-label');
                if (label) {
                    debugHTML += `<p><button onclick="testFontClick()">üñ±Ô∏è Test Font Dropdown Click</button></p>`;
                }
            } else {
                debugHTML += `<p><strong>‚ùå NO font picker found!</strong></p>`;
                debugHTML += `<p>Available toolbar: ${document.querySelector('.ql-toolbar')?.innerHTML || 'none'}</p>`;
            }
            
            debugDiv.innerHTML = debugHTML;
        }, 1000);
        
        // Function to test font dropdown
        window.testFontClick = function() {
            const label = document.querySelector('.ql-font .ql-picker-label');
            if (label) {
                label.click();
                console.log('Clicked font dropdown');
                
                setTimeout(() => {
                    const isOpen = document.querySelector('.ql-font').classList.contains('ql-expanded');
                    console.log('Dropdown is open:', isOpen);
                    document.getElementById('debug-info').innerHTML += `<p>Dropdown opened: <strong>${isOpen ? 'YES' : 'NO'}</strong></p>`;
                }, 100);
            }
        };
        
        console.log('‚úÖ Font test v2 complete');
    </script>
</body>
</html>